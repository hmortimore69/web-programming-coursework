<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="dashboard.css" />
    <link rel="stylesheet" type="text/css" href="../util/nav.css" />

    <title>PJC | Admin</title>
  </head>
  <body>
    <nav>
      <a href="/" id="logo-home">PJC</a>
      <div class="nav-float-right">
        <a href="/">Home</a>
        <a href="/new-race">New Race</a>
      </div>
    </nav>

    <main>
      <h1>Race Manager</h1>
      <button>Back</button>

      <section id="live-timer-section">
        <h2>Race Timer <span id="live-indicator"></span></h2>
        <div id="race-timer">00:00:00</div>
      </section>

      <section class="admin-only" id="live-timer-controls">
        <button id="start-timer-button">Start</button>
        <button id="stop-timer-button">Stop</button>
        <button id="finish-timer-button">Finish</button>
        <div>
          <label for="adjust-time-input">Adjust Time (seconds):</label>
          <input type="number" id="adjust-time-input" placeholder="Enter seconds" />
          <button id="adjust-time-button">Adjust</button>
        </div>
      </section>

      <section id="timestamp-recording">
        <h3>Record Timestamps</h3>
        <div class="timestamp-controls">
          <button id="record-timestamp-button" class="action-button">Record Current Time</button>
          
          <div class="timestamp-assignment">
            <label for="racer-number-input">Racer Number:</label>
            <input type="number" id="racer-number-input" placeholder="Enter racer #" min="1" />
            <button id="assign-timestamp-button" class="action-button">Assign</button>
            <button id="commit-timestamps-button" class="commit-button">Commit</button>
          </div>
        </div>
        
        <div class="timestamp-areas">
          <div class="timestamp-area working-area">
            <h4>Working Area (Unassigned)</h4>
            <table>
              <thead>
                <tr>
                  <th>Timestamp</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody id="working-timestamps-list">
                <!-- Working timestamps will be added here -->
              </tbody>
            </table>
          </div>
          
          <div class="timestamp-area staged-area">
            <h4>Staging Area (Ready to Commit)</h4>
            <table>
              <thead>
                <tr>
                  <th>Timestamp</th>
                  <th>Racer #</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody id="staged-timestamps-list">
                <!-- Staged timestamps will be added here -->
              </tbody>
            </table>
          </div>
          
          <div class="timestamp-area committed-area">
            <h4>Committed (Submitted)</h4>
            <table>
              <thead>
                <tr>
                  <th>Timestamp</th>
                  <th>Racer #</th>
                </tr>
              </thead>
              <tbody id="committed-timestamps-list">
                <!-- Committed timestamps will be added here -->
              </tbody>
            </table>
          </div>
        </div>
      </section>

      <section class="admin-only" id="danger-zone">
        <h3>Delete Race</h3>
        <span>Would you like to delete this race? </span><button id="delete-race-button" class="danger">DELETE</button>
      </section>
    </main>

    <template id="">
    </template>

    <script src="dashboard.js"></script>
    <script src="/util/userType.js"></script>
  </body>
</html>